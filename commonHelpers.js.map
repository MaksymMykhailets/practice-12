{"version":3,"file":"commonHelpers.js","sources":["../src/js/api.js","../src/js/pagination.js","../src/js/render-events.js"],"sourcesContent":["import axios from 'axios';\n\nconst API_KEY = 'uHSLi07StIOlriMPxJGxUbSYsHDs6AFx';\nconst BASE_URL = 'https://app.ticketmaster.com/discovery/v2/';\n\n// url:\"https://app.ticketmaster.com/discovery/v2/events.json?size=1&apikey={apikey}\"\n\nexport async function getEvents(page) {\n    const { data } = await axios.get(\n        `${BASE_URL}events.json?page=${page}&apikey=${API_KEY}`\n    );\n    return data;\n}\n","import Pagination from 'tui-pagination';\nimport 'tui-pagination/dist/tui-pagination.css';\nimport { renderMarkup } from './render-events';\n\nconst options = {\n  totalItems: 0,\n  itemsPerPage: 20,\n  visiblePages: 5,\n  page: 1,\n  centerAlign: false,\n  firstItemClassName: 'tui-first-child',\n  lastItemClassName: 'tui-last-child',\n  template: {\n    page: '<a href=\"#\" class=\"tui-page-btn\">{{page}}</a>',\n    currentPage: '<strong class=\"tui-page-btn tui-is-selected\">{{page}}</strong>',\n    moveButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</a>',\n    disabledMoveButton:\n      '<span class=\"tui-page-btn tui-is-disabled tui-{{type}}\">' +\n        '<span class=\"tui-ico-{{type}}\">{{type}}</span>' +\n      '</span>',\n    moreButton:\n      '<a href=\"#\" class=\"tui-page-btn tui-{{type}}-is-ellip\">' +\n        '<span class=\"tui-ico-ellip\">...</span>' +\n      '</a>'\n  }\n};\n\nexport const pagination = new Pagination('pagination', options);\nexport const currentPage = pagination.getCurrentPage();\n\nexport function pageReset(totalItem) {\n    pagination.reset(totalItem);\n}\n\npagination.on('afterMove', (event) => {\n    const page = event.page;\n    renderMarkup(page);\n     console.log(page);\n});","import { getEvents } from \"./api\";\nimport { currentPage, pageReset } from \"./pagination\";\n\n\nconst events = document.querySelector('.events');\n\nfunction createMarkup(data) {\n    const markup = data\n        .map(({ id, name }) => `\n        <li id=${id}>\n          <p>${name}</p>\n        </li>\n        `)\n        .join('');\n    events.innerHTML = markup;\n}\n\nexport async function renderMarkup(page) {\n    const { data } = await getEvents(page);\n    const { _embedded: { events }, page: { totalElements } } = data;\n    \n    if (page === 1) {\n        pageReset(totalElements);\n    }\n    \n    createMarkup(events);\n}\n\nrenderMarkup(currentPage);"],"names":["API_KEY","BASE_URL","getEvents","page","data","axios","options","pagination","Pagination","currentPage","pageReset","totalItem","event","renderMarkup","events","createMarkup","markup","id","name","totalElements"],"mappings":"6vBAEA,MAAMA,EAAU,mCACVC,EAAW,6CAIV,eAAeC,EAAUC,EAAM,CAClC,KAAM,CAAE,KAAAC,CAAI,EAAK,MAAMC,EAAM,IACzB,GAAGJ,CAAQ,oBAAoBE,CAAI,WAAWH,CAAO,EAC7D,EACI,OAAOI,CACX,CCRA,MAAME,EAAU,CACd,WAAY,EACZ,aAAc,GACd,aAAc,EACd,KAAM,EACN,YAAa,GACb,mBAAoB,kBACpB,kBAAmB,iBACnB,SAAU,CACR,KAAM,gDACN,YAAa,iEACb,WACE,mGAGF,mBACE,gHAGF,WACE,mGAGH,CACH,EAEaC,EAAa,IAAIC,EAAW,aAAcF,CAAO,EACjDG,EAAcF,EAAW,iBAE/B,SAASG,EAAUC,EAAW,CACjCJ,EAAW,MAAMI,CAAS,CAC9B,CAEAJ,EAAW,GAAG,YAAcK,GAAU,CAClC,MAAMT,EAAOS,EAAM,KACnBC,EAAaV,CAAI,EAChB,QAAQ,IAAIA,CAAI,CACrB,CAAC,ECrCD,MAAMW,EAAS,SAAS,cAAc,SAAS,EAE/C,SAASC,EAAaX,EAAM,CACxB,MAAMY,EAASZ,EACV,IAAI,CAAC,CAAE,GAAAa,EAAI,KAAAC,CAAM,IAAK;AAAA,iBACdD,CAAE;AAAA,eACJC,CAAI;AAAA;AAAA,SAEV,EACA,KAAK,EAAE,EACZJ,EAAO,UAAYE,CACvB,CAEO,eAAeH,EAAaV,EAAM,CACrC,KAAM,CAAE,KAAAC,CAAM,EAAG,MAAMF,EAAUC,CAAI,EAC/B,CAAE,UAAW,CAAE,OAAAW,CAAQ,EAAE,KAAM,CAAE,cAAAK,CAAa,CAAI,EAAGf,EAEvDD,IAAS,GACTO,EAAUS,CAAa,EAG3BJ,EAAaD,CAAM,CACvB,CAEAD,EAAaJ,CAAW"}